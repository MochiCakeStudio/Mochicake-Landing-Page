<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mochicake.Studio</title>
 <link href="https://fonts.googleapis.com/css2?family=Dongle&family=VT323&display=swap" rel="stylesheet">
  <style>
    body {
      /* Animated ombre background: red, yellow, green, blue */
      background: linear-gradient(135deg, #FFC0C8, #F4E5C0, #E1EFCE, #C0E0EC 100%);
      background-size: 400% 400%;
      animation: gradientBG 18s ease-in-out infinite;
      min-height: 100vh;
      background-attachment: fixed;
      font-family: 'dongle', monospace;
      color: black;
      margin: 0;
      padding: 0;
      /* Hide default cursor, use pseudo for flipped knife */
      cursor: none;
    }
    body::after {
      content: '';
      position: fixed;
      left: 0; top: 0;
      width: 32px; height: 32px;
      pointer-events: none;
      z-index: 99999;
      background: url('assets/mochicakecode knife.png') no-repeat 0 0/contain;
      transform: scaleX(-1) translate(-16px, -16px);
      display: none;
      /* Add dynamic position */
      will-change: transform;
    }
    body.custom-cursor-active::after {
      display: block;
    }
    body.sparkle-cursor::after {
      /* Remove sparkle cursor, revert to default pointer */
      background: url('assets/mochicakecode knife.png') no-repeat 0 0/contain !important;
    }

    @keyframes gradientBG {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    .splash-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: #000000;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      font-size: 16px;
      text-align: center;
      white-space: pre;
      font-family: monospace;
    }

    .ascii-art span {
      display: inline-block;
      background: linear-gradient(90deg,#fff ,#FFC0C8, #ff698a, #FFC0C8, #fff);
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 10s linear infinite;

    }

    @keyframes shimmer {
      0% {
        background-position: 200% center;
      }
      100% {
        background-position: -200% center;
      }
    }

    .splash-screen button {
      margin-top: 20px;
      padding: 10px 20px;
      font-family: 'dongle', monospace;
      font-size: 18px;
      background-color: #ff698a;
      cursor: pointer;
      border-radius: 12px;
    }

    button, .start-btn, .bar-app, .title-bar-buttons span, a, input, select, textarea {
      border-radius: 16px !important;
      background: #fff !important;
      color: black;
      border: none !important;
      cursor: none !important;
    }

    .splash-screen button:active {
      border: 2px inset #fff;
    }

    .hidden {
      display: none;
    }

    .window {
      width: 600px;
      margin: 50px auto;
      border: 3px solid #000;
      box-shadow: 3px 3px 0px #ADADAD;
      background-color: #ffffff;
      border-radius: 12px;
    }

    .title-bar {
      background: linear-gradient(to right, #FFC0C8, #FFC0C8);
      color: white;
      padding: 5px 10px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 12px;
    }

    .title-bar-buttons span {
      background: #fff; 
      color: black;
      padding: 0 6px;
      margin-left: 4px;
      border: 1px solid #000;
      cursor: pointer;
      border-radius: 16px;
    }

    .content {
      padding: 15px;
      font-size: 18px;
    }

    .nav {
      background-color: #ADADAD;
      padding: 10px;
      text-align: center;
    }

    .nav a {
      color: #B9D5DE;
      text-decoration: underline;
      margin: 0 10px;
    }

    .marquee {
      background-color: #000;
      color: #FFC0C8;
      font-size: 16px;
      padding: 5px;
      overflow: hidden;
      white-space: nowrap;
      box-sizing: border-box;
    }

    .marquee span {
      display: inline-block;
      padding-left: 100%;
      animation: scroll 12s linear infinite;
    }

    @keyframes scroll {
      0%   { transform: translateX(0%); }
      100% { transform: translateX(-100%); }
    }

        /* --- Desktop Start Menu Bar Styles --- */
    .desktop-bar {
      position: fixed;
      left: 0;
      bottom: 0;
      width: 100vw;
      height: 48px;
      background: solid (#000000);
      border-top: 2px solid #888;
      display: flex;
      align-items: center;
      z-index: 10000;
      box-shadow: 0 -2px 6px rgba(0,0,0,0.08);
      font-family: 'dongle', monospace;
      font-size: 20px;
      user-select: none;
    }
    .start-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: #fff;
      border: 2px outset #b9d5de;
      border-radius: 8px;
      margin-left: 12px;
      padding: 4px 18px 4px 10px;
      font-size: 20px;
      cursor: pointer;
      font-family: 'dongle', monospace;
      transition: background 0.2s;
      box-shadow: 1px 1px 0 #b9d5de;
    }
    .start-btn:active {
      border: 2px inset #b9d5de;
      background: #e0e0e0;
    }
    .start-icon {
      width: 24px;
      height: 24px;
      margin-right: 8px;
      vertical-align: middle;
    }
    .desktop-bar-apps {
      display: flex;
      gap: 18px;
      margin-left: 32px;
      flex: 1;
    }
    .bar-app {
      background: #fff;
      border: 1px solid #b9d5de;
      border-radius: 16px;
      padding: 4px 14px;
      margin-right: 4px;
      font-size: 18px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .bar-app:hover {
      background: #ffc0c8;
      color: #000;
    }
    .desktop-bar-clock {
      margin-right: 24px;
      margin-left: auto;
      font-size: 18px;
      color: #333;
      font-family: 'dongle', monospace;
      letter-spacing: 1px;
    }
    @media (max-width: 700px) {
      .desktop-bar-apps { display: none; }
      .desktop-bar { font-size: 16px; }
      .desktop-bar-clock { font-size: 14px; }
    }

    /* Popup Window Styles */
    #popup-window {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translate(-50%, 0);
      z-index: 20000;
      min-width: 320px;
      max-width: 90vw;
      cursor: grab;
    }
    /* Remove/minimize bar styles for popup window */
    #popup-window.minimized {
      display: none !important;
    }
  </style>
    <script>
    // Simple digital clock for the desktop bar
    function updateDesktopClock() {
      const clock = document.getElementById('desktopClock');
      if (!clock) return;
      const now = new Date();
      let h = now.getHours();
      let m = now.getMinutes();
      let ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12;
      if (m < 10) m = '0' + m;
      clock.textContent = h + ':' + m + ' ' + ampm;
    }
    setInterval(updateDesktopClock, 1000);
    updateDesktopClock();
  </script>
</head>
<body>

  <audio id="enter-sound" src="welcome-chime.mp3" preload="auto"></audio>

  <div id="splash" class="splash-screen">
    <div class="ascii-art">
      <span>
                         __                           __                 ____    __                __                
 /'\_/`\                /\ \      __                 /\ \               /\  _`\ /\ \__            /\ \  __           
/\      \    ___     ___\ \ \___ /\_\    ___     __  \ \ '\      __   \ \,\L\_\ \ ,_\  __  __   \_\ \/\_\    ___   
\ \ \__\ \  / __`\  /'___\ \  _ `\/\ \  /'___\ /'__`\ \ \ , <    /'__`\  \/_\__ \\ \ \/ /\ \/\ \  /'_` \ /\ \  / __`\ 
 \ \ \_/\ \/\ \L\ \/\ \__/\ \ \ \ \ \ \/\ \__//\ \L\.\_\ \ \\`\ /\  __/  __/\ \L\ \ \ \_\ \ \_\ \/\ \L\ \ \ \/\ \L\ \
  \ \_\\ \_\ \____/\ \____\\ \_\ \_\ \_\ \____\ \__/.\_\\ \_\ \_\ \____\/\_\ `\____\ \__\\ \____/\ \___,_\ \_\ \____/
   \/_/ \/_/\/___/  \/____/ \/_/\/_/\/_/\/____/\/__/\/_/ \/_/\/_/\/____/\/_/\/_____/\/__/ \/___/  \/__,_ /\/_/\/___/ 
      </span>
    </div>

    <button onclick="enterSite()">E n t e r</button>
  </div>

  <div id="main-content" class="hidden">
    <div class="marquee">
      <span> owo?/ Welcome to my site! I am currently: Still building it and slightly frustrated but we'll get there eventually, wish me luck! </span>
    </div>

    <div class="window">
      <div class="title-bar">
        <span>Mochicake.exe</span>
        <div class="title-bar-buttons">
          <span>_</span><span>[]</span><span>X</span>
        </div>
      </div>
      <div class="content">
        <p><strong>Hi, I'm Emiko!</strong></p>
        <p>Explore my projects, dive into my brain, or leave a cute note in the guestbook.</p>
      </div>
    </div>
    <!-- Desktop Start Menu Bar (now only inside #main-content) -->
    <div class="desktop-bar">
      <button class="start-btn" style="display: flex; align-items: center; gap: 8px;">
        <span class="start-icon" style="width: 24px; height: 24px; display: flex; align-items: center;">
          <svg fill="#ff698a" viewBox="0 0 475.528 475.528" width="24" height="24" xmlns="http://www.w3.org/2000/svg">
            <g>
              <g>
                <path d="M237.376,436.245l0.774,0.976c210.94-85.154,292.221-282.553,199.331-367.706
                  c-92.899-85.154-199.331,30.953-199.331,30.953h-0.774c0,0-106.44-116.107-199.331-30.953
                  C-54.844,154.658,26.437,351.092,237.376,436.245z"/>
              </g>
            </g>
          </svg>
        </span>
        <span style="display: flex; align-items: center;">Start</span>
      </button>
      <div class="desktop-bar-apps">
        <span class="bar-app">Home</span>
        <span class="bar-app">About</span>
        <span class="bar-app">Projects</span>
        <span class="bar-app">Guestbook</span>
      </div>
      <span class="desktop-bar-clock" id="desktopClock"></span>
    </div>

    <!-- Popup Windows -->
    <div id="popup-window-home" class="window hidden" style="position: fixed; top: 20%; left: 50%; transform: translate(-50%, 0); z-index: 20000; min-width: 320px; max-width: 90vw; cursor: grab;">
      <div class="title-bar" id="popup-title-bar-home" style="cursor: grab;">
        <span>Welcome Home!</span>
        <div class="title-bar-buttons">
          <span id="popup-close-home">X</span>
        </div>
      </div>
      <div class="content">
        <p>You're already on the Home screen!<br>Enjoy exploring Mochicake.Studio 💖</p>
      </div>
    </div>
    <div id="popup-window-about" class="window hidden" style="position: fixed; top: 24%; left: 54%; transform: translate(-50%, 0); z-index: 20000; min-width: 320px; max-width: 90vw; cursor: grab;">
      <div class="title-bar" id="popup-title-bar-about" style="cursor: grab;">
        <span>About</span>
        <div class="title-bar-buttons">
          <span id="popup-close-about">X</span>
        </div>
      </div>
      <div class="content">
        <p>This is the About popup!<br>Write something about yourself or the site here.</p>
      </div>
    </div>
    <div id="popup-window-projects" class="window hidden" style="position: fixed; top: 28%; left: 58%; transform: translate(-50%, 0); z-index: 20000; min-width: 320px; max-width: 90vw; cursor: grab;">
      <div class="title-bar" id="popup-title-bar-projects" style="cursor: grab;">
        <span>Projects</span>
        <div class="title-bar-buttons">
          <span id="popup-close-projects">X</span>
        </div>
      </div>
      <div class="content">
        <p>This is the Projects popup!<br>Showcase your work here.</p>
      </div>
    </div>
    <div id="popup-window-guestbook" class="window hidden" style="position: fixed; top: 32%; left: 62%; transform: translate(-50%, 0); z-index: 20000; min-width: 320px; max-width: 90vw; cursor: grab;">
      <div class="title-bar" id="popup-title-bar-guestbook" style="cursor: grab;">
        <span>Guestbook</span>
        <div class="title-bar-buttons">
          <span id="popup-close-guestbook">X</span>
        </div>
      </div>
      <div class="content">
        <p>This is the Guestbook popup!<br>Let visitors leave a message here.</p>
      </div>
    </div>
  </div>
  <script>
    function enterSite() {
      const sound = document.getElementById('enter-sound');
      sound.currentTime = 0;
      sound.play();
      document.getElementById('splash').classList.add('hidden');
      document.getElementById('main-content').classList.remove('hidden');
    }
  </script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const body = document.body;
      document.addEventListener('mousemove', function(e) {
        body.classList.add('custom-cursor-active');
        body.style.setProperty('--cursor-x', e.clientX + 'px');
        body.style.setProperty('--cursor-y', e.clientY + 'px');
        body.style.setProperty('--cursor-transform', `translate(${e.clientX - 16}px, ${e.clientY - 16}px) scaleX(-1)`);
        body.style.cursor = 'none';
        let styleTag = document.getElementById('custom-cursor-style');
        if (!styleTag) {
          styleTag = document.createElement('style');
          styleTag.id = 'custom-cursor-style';
          document.head.appendChild(styleTag);
        }
        styleTag.textContent = `body::after { transform: var(--cursor-transform, scaleX(-1) translate(-16px, -16px)); left: 0; top: 0; }`;
      });
      // Remove sparkle cursor on hover, revert to pointer
      const sparkleTargets = document.querySelectorAll('button, .bar-app, .start-btn, .title-bar-buttons span');
      sparkleTargets.forEach(el => {
        el.addEventListener('mouseenter', () => { body.classList.remove('sparkle-cursor'); body.style.cursor = 'pointer'; });
        el.addEventListener('mouseleave', () => { body.style.cursor = 'none'; });
      });
      // Play audio for 0.01s on Home, About, Projects, Guestbook click
      const navButtons = document.querySelectorAll('.bar-app');
      const sound = document.getElementById('enter-sound');
      navButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          if (sound) {
            sound.currentTime = 0;
            sound.play();
            setTimeout(() => { sound.pause(); sound.currentTime = 0; }, 10); // 0.01 seconds
          }
        });
      });
      // Pop up windows on nav click
      const popups = {
        Home: {
          btn: document.querySelector('.bar-app:nth-child(1)'),
          popup: document.getElementById('popup-window-home'),
          close: document.getElementById('popup-close-home'),
          titleBar: document.getElementById('popup-title-bar-home'),
          color: '#ffc0c8',
        },
        About: {
          btn: document.querySelector('.bar-app:nth-child(2)'),
          popup: document.getElementById('popup-window-about'),
          close: document.getElementById('popup-close-about'),
          titleBar: document.getElementById('popup-title-bar-about'),
          color: '#ffe0c8',
        },
        Projects: {
          btn: document.querySelector('.bar-app:nth-child(3)'),
          popup: document.getElementById('popup-window-projects'),
          close: document.getElementById('popup-close-projects'),
          titleBar: document.getElementById('popup-title-bar-projects'),
          color: '#e0ffc8',
        },
        Guestbook: {
          btn: document.querySelector('.bar-app:nth-child(4)'),
          popup: document.getElementById('popup-window-guestbook'),
          close: document.getElementById('popup-close-guestbook'),
          titleBar: document.getElementById('popup-title-bar-guestbook'),
          color: '#c8e0ff',
        },
      };
      Object.values(popups).forEach(({btn, popup, close, titleBar, color}) => {
        if (btn && popup && close && titleBar) {
          function setActive(active) {
            btn.style.background = active ? color : '#fff';
            btn.style.color = '#000';
          }
          btn.addEventListener('click', function(e) {
            // Toggle this popup only
            const isOpen = !popup.classList.contains('hidden');
            if (isOpen) {
              popup.classList.add('hidden');
              setActive(false);
            } else {
              popup.classList.remove('hidden');
              setActive(true);
            }
          });
          close.addEventListener('click', function() {
            popup.classList.add('hidden');
            setActive(false);
          });
          // Draggable
          let isDragging = false, offsetX = 0, offsetY = 0, startX = 0, startY = 0;
          titleBar.addEventListener('mousedown', function(e) {
            isDragging = true;
            popup.style.transition = 'none';
            startX = e.clientX;
            startY = e.clientY;
            const rect = popup.getBoundingClientRect();
            offsetX = startX - rect.left;
            offsetY = startY - rect.top;
            document.body.style.userSelect = 'none';
          });
          document.addEventListener('mousemove', function(e) {
            if (isDragging) {
              let newLeft = e.clientX - offsetX;
              let newTop = e.clientY - offsetY;
              const winW = window.innerWidth, winH = window.innerHeight;
              const popupW = popup.offsetWidth, popupH = popup.offsetHeight;
              newLeft = Math.max(0, Math.min(newLeft, winW - popupW));
              newTop = Math.max(0, Math.min(newTop, winH - popupH));
              popup.style.left = newLeft + 'px';
              popup.style.top = newTop + 'px';
              popup.style.transform = 'none';
            }
          });
          document.addEventListener('mouseup', function() {
            isDragging = false;
            document.body.style.userSelect = '';
          });
        }
      });
    });
  </script>

</body>
</html>